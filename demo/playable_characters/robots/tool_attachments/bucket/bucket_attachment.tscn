[gd_scene load_steps=11 format=3 uid="uid://hi6fmjvb22xb"]

[ext_resource type="PackedScene" uid="uid://bwncpsw8lnbla" path="res://playable_characters/robots/tool_attachments/tool_attachment.tscn" id="1_2wqi2"]
[ext_resource type="ArrayMesh" uid="uid://srcfe5wuq87v" path="res://playable_characters/robots/tool_attachments/bucket/BetterBucket.obj" id="1_8hmwl"]
[ext_resource type="Script" uid="uid://csoyli65huysi" path="res://playable_characters/robots/tool_attachments/bucket/bucket_attachment.gd" id="1_tbghr"]
[ext_resource type="Material" uid="uid://b8qplmj6c2yed" path="res://util/metal_material_3d.tres" id="3_mxbys"]
[ext_resource type="Script" uid="uid://dtwg7ngbe8c3v" path="res://playable_characters/robots/tool_attachments/bucket/inside_bucket.gd" id="5_k25x5"]

[sub_resource type="BoxShape3D" id="BoxShape3D_77fjy"]
size = Vector3(0.798813, 0.261154, 0.0234375)

[sub_resource type="BoxShape3D" id="BoxShape3D_axxy0"]
size = Vector3(0.0194702, 0.289246, 0.327797)

[sub_resource type="BoxShape3D" id="BoxShape3D_gbx4m"]
size = Vector3(0.799, 0.404036, 0.0299326)

[sub_resource type="BoxShape3D" id="BoxShape3D_mpv55"]
size = Vector3(0.0108643, 0.173706, 0.169434)

[sub_resource type="BoxShape3D" id="BoxShape3D_hyu1o"]
size = Vector3(0.919689, 0.508891, 0.431961)

[node name="BucketAttachment" instance=ExtResource("1_2wqi2")]
script = ExtResource("1_tbghr")
pushback_scale = 4.0
mass_pos = Vector3(0, -0.196, -0.156)

[node name="CenterOfMass" parent="." index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.196, -0.156)

[node name="BetterBucket" type="MeshInstance3D" parent="." index="2"]
transform = Transform3D(0.01, 0, 0, 0, -4.37114e-10, 0.01, 0, -0.01, -4.37114e-10, 0, -0.05, 0.9)
mesh = ExtResource("1_8hmwl")
skeleton = NodePath("../../..")
surface_material_override/0 = ExtResource("3_mxbys")

[node name="BuckerCollider" type="CollisionShape3D" parent="." index="3"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 2.10553e-05, -0.209021, -0.163842)
shape = SubResource("BoxShape3D_77fjy")

[node name="BuckerCollider3" type="CollisionShape3D" parent="." index="4"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0.396564, -0.029964, -0.161604)
shape = SubResource("BoxShape3D_axxy0")

[node name="BuckerCollider4" type="CollisionShape3D" parent="." index="5"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -0.399182, -0.033252, -0.161762)
shape = SubResource("BoxShape3D_axxy0")

[node name="BuckerCollider2" type="CollisionShape3D" parent="." index="6"]
transform = Transform3D(1, 0, 0, 0, -0.999913, 0.0131593, 0, -0.0131593, -0.999913, 2.10553e-05, 0.00412088, -0.0266825)
shape = SubResource("BoxShape3D_gbx4m")

[node name="BuckerCollider5" type="CollisionShape3D" parent="." index="7"]
transform = Transform3D(0.444072, -7.72379e-08, 0.895991, -0.895991, 6.76454e-08, 0.444072, -9.49089e-08, -1, -3.9165e-08, -0.328061, 0.167599, -0.0784125)
shape = SubResource("BoxShape3D_mpv55")

[node name="BuckerCollider6" type="CollisionShape3D" parent="." index="8"]
transform = Transform3D(-0.463497, -6.39715e-08, -0.886098, -0.886098, -3.87326e-08, 0.463497, -6.39715e-08, 1, -3.87326e-08, 0.328543, 0.168705, -0.0784125)
shape = SubResource("BoxShape3D_mpv55")

[node name="CuttingEdge" type="Node3D" parent="." index="9"]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, -0.4, -0.230319, -0.385997)

[node name="InsideBucket" type="Area3D" parent="." index="10"]
collision_layer = 2
collision_mask = 2
script = ExtResource("5_k25x5")

[node name="CollisionShape3D" type="CollisionShape3D" parent="InsideBucket" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0025616, -0.0244718, -0.184456)
shape = SubResource("BoxShape3D_hyu1o")

[connection signal="body_entered" from="InsideBucket" to="InsideBucket" method="_on_body_entered"]
[connection signal="body_exited" from="InsideBucket" to="InsideBucket" method="_on_body_exited"]
